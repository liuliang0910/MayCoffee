# äº”æœˆå’–å•¡ - å®¢æˆ·ç•™è¨€ç³»ç»Ÿ

## åŠŸèƒ½ä»‹ç»

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„å®¢æˆ·ç•™è¨€ç³»ç»Ÿï¼ŒåŒ…æ‹¬ï¼š

1. **å®¢æˆ·ç•™è¨€é¡µé¢** (`feedback.html`)
   - å®¢æˆ·å¯ä»¥å¡«å†™åå­—ã€é‚®ç®±ã€ç•™è¨€å†…å®¹
   - æ”¯æŒä¸Šä¼ å›¾ç‰‡å’Œè§†é¢‘
   - æ˜¾ç¤ºæ‰€æœ‰å·²æ‰¹å‡†çš„ç•™è¨€

2. **ç®¡ç†åå°** (`/admin`)
   - æŸ¥çœ‹æ‰€æœ‰ç•™è¨€ï¼ˆå·²æ‰¹å‡†å’Œå¾…å®¡æ ¸ï¼‰
   - æ‰¹å‡†å¾…å®¡æ ¸çš„ç•™è¨€
   - åˆ é™¤ä¸åˆé€‚çš„ç•™è¨€
   - ç»Ÿè®¡ç•™è¨€æ•°é‡

3. **æ•°æ®åº“**
   - ä½¿ç”¨SQLiteå­˜å‚¨æ‰€æœ‰ç•™è¨€
   - è‡ªåŠ¨ä¿å­˜ä¸Šä¼ çš„å›¾ç‰‡å’Œè§†é¢‘

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 2. è¿è¡Œç¨‹åº

```bash
python app.py
```

ç¨‹åºä¼šåœ¨ `http://localhost:5000` å¯åŠ¨

### 3. è®¿é—®é¡µé¢

- **å®¢æˆ·ç•™è¨€é¡µé¢**: http://localhost:5000/feedback.html
- **ç®¡ç†åå°ç™»å½•**: http://localhost:5000/admin/login
  - é»˜è®¤å¯†ç : `admin123`

## æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `app.py` | åç«¯ä»£ç ï¼ˆPython Flaskï¼‰ |
| `requirements.txt` | ä¾èµ–åŒ…åˆ—è¡¨ |
| `feedback.html` | å®¢æˆ·ç•™è¨€é¡µé¢ |
| `js/feedback.js` | ç•™è¨€é¡µé¢çš„JavaScriptä»£ç  |
| `templates/admin.html` | ç®¡ç†åå°é¡µé¢ |
| `templates/admin_login.html` | ç®¡ç†å‘˜ç™»å½•é¡µé¢ |
| `messages.db` | æ•°æ®åº“æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰ |
| `uploads/` | ä¸Šä¼ çš„å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶å¤¹ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰ |

## é‡è¦é…ç½®

### ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 

æ‰“å¼€ `app.py`ï¼Œæ‰¾åˆ°è¿™ä¸€è¡Œï¼š

```python
if password == 'admin123':
```

æ”¹æˆä½ æƒ³è¦çš„å¯†ç ï¼Œä¾‹å¦‚ï¼š

```python
if password == 'your-new-password':
```

### ä¿®æ”¹å¯†é’¥

ä¸ºäº†å®‰å…¨ï¼Œå»ºè®®ä¿®æ”¹ `app.py` ä¸­çš„å¯†é’¥ï¼š

```python
app.config['SECRET_KEY'] = 'your-secret-key-change-this'
```

æ”¹æˆä¸€ä¸ªéšæœºçš„å­—ç¬¦ä¸²ã€‚

## éƒ¨ç½²åˆ°é˜¿é‡Œäº‘

### æ–¹æ³•1ï¼šä½¿ç”¨ECSï¼ˆæ¨èï¼‰

1. **è¿æ¥åˆ°æœåŠ¡å™¨**
   ```bash
   ssh root@47.107.42.77
   ```

2. **å®‰è£…Pythonå’Œä¾èµ–**
   ```bash
   apt-get update
   apt-get install python3 python3-pip
   ```

3. **ä¸Šä¼ é¡¹ç›®æ–‡ä»¶**
   ```bash
   scp -r ./* root@47.107.42.77:/var/www/maycoffee/
   ```

4. **å®‰è£…Pythonä¾èµ–**
   ```bash
   cd /var/www/maycoffee
   pip install -r requirements.txt
   ```

5. **ä½¿ç”¨Gunicornè¿è¡Œ**
   ```bash
   pip install gunicorn
   gunicorn -w 4 -b 0.0.0.0:5000 app:app
   ```

6. **é…ç½®Nginxåå‘ä»£ç†**
   
   ç¼–è¾‘ `/etc/nginx/sites-available/default`ï¼š
   
   ```nginx
   server {
       listen 80;
       server_name 47.107.42.77;  # æ”¹æˆä½ çš„åŸŸåæˆ–IP
   
       location / {
           proxy_pass http://127.0.0.1:5000;
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
       }
   
       location /uploads {
           alias /var/www/maycoffee/uploads;
       }
   }
   ```

7. **é‡å¯Nginx**
   ```bash
   systemctl restart nginx
   ```

### æ–¹æ³•2ï¼šä½¿ç”¨PM2ä¿æŒç¨‹åºè¿è¡Œ

```bash
npm install -g pm2
pm2 start app.py --name "maycoffee"
pm2 startup
pm2 save
```

## å¸¸è§é—®é¢˜

### Q: ä¸Šä¼ çš„æ–‡ä»¶åœ¨å“ªé‡Œï¼Ÿ
A: åœ¨ `uploads/` æ–‡ä»¶å¤¹é‡Œã€‚éƒ¨ç½²åˆ°æœåŠ¡å™¨æ—¶ï¼Œè®°å¾—å®šæœŸå¤‡ä»½è¿™ä¸ªæ–‡ä»¶å¤¹ã€‚

### Q: å¦‚ä½•å¤‡ä»½ç•™è¨€ï¼Ÿ
A: å¤‡ä»½ `messages.db` æ–‡ä»¶å³å¯ã€‚è¿™æ˜¯SQLiteæ•°æ®åº“æ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰ç•™è¨€ã€‚

### Q: å¦‚ä½•ä¿®æ”¹ç•™è¨€çš„å®¡æ ¸è§„åˆ™ï¼Ÿ
A: åœ¨ `app.py` ä¸­ä¿®æ”¹ `approved` å­—æ®µçš„é»˜è®¤å€¼ã€‚ç›®å‰è®¾ç½®ä¸º `False`ï¼ˆéœ€è¦å®¡æ ¸ï¼‰ã€‚

### Q: æ”¯æŒå“ªäº›æ–‡ä»¶æ ¼å¼ï¼Ÿ
A: 
- å›¾ç‰‡: PNG, JPG, JPEG, GIF
- è§†é¢‘: MP4, AVI, MOV, WEBM

### Q: æ–‡ä»¶å¤§å°æœ‰é™åˆ¶å—ï¼Ÿ
A: æœ‰ï¼Œé»˜è®¤æœ€å¤§100MBã€‚å¯ä»¥åœ¨ `app.py` ä¸­ä¿®æ”¹ï¼š
```python
app.config['MAX_CONTENT_LENGTH'] = 100 * 1024 * 1024  # æ”¹æˆä½ æƒ³è¦çš„å¤§å°
```

## æŠ€æœ¯æ ˆ

- **åç«¯**: Python Flask
- **æ•°æ®åº“**: SQLite
- **å‰ç«¯**: HTML5, CSS3, JavaScript
- **æœåŠ¡å™¨**: Nginx + Gunicorn

## å®‰å…¨å»ºè®®

1. âœ… ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç 
2. âœ… ä¿®æ”¹SECRET_KEY
3. âœ… å®šæœŸå¤‡ä»½æ•°æ®åº“
4. âœ… å®šæœŸæ¸…ç†è¿‡æœŸçš„ä¸Šä¼ æ–‡ä»¶
5. âœ… ä½¿ç”¨HTTPSï¼ˆéƒ¨ç½²åˆ°æœåŠ¡å™¨æ—¶ï¼‰
6. âœ… è®¾ç½®æ–‡ä»¶ä¸Šä¼ å¤§å°é™åˆ¶

## éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Pythonç‰ˆæœ¬æ˜¯å¦ä¸º3.6+
2. æ‰€æœ‰ä¾èµ–æ˜¯å¦å·²å®‰è£…
3. ç«¯å£5000æ˜¯å¦è¢«å ç”¨
4. æ–‡ä»¶æƒé™æ˜¯å¦æ­£ç¡®

ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰
